{% extends "base.html" %}
{% block main %}
<div style="max-width:600px; margin:60px auto; background:white; padding:40px; border-radius:20px; box-shadow:0 15px 40px rgba(0,0,0,0.1);">
    <h2 style="text-align:center; font-size:2.4rem; color:#2c3e50; margin-bottom:30px;">
        Редактировать профиль
    </h2>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Аватар -->
        <div style="text-align:center; margin-bottom:30px;">
            {% if profile.avatar %}
                <img src="{{ profile.avatar.url }}" style="width:140px; height:140px; border-radius:50%; object-fit:cover; border:5px solid #3498db;">
                <p style="margin:10px 0;">
                    <label><input type="checkbox" name="remove_avatar"> Удалить аватар</label>
                </p>
            {% else %}
                <div style="width:140px; height:140px; border-radius:50%; background:#3498db; margin:0 auto 15px; display:flex; align-items:center; justify-content:center; color:white; font-size:4rem; font-weight:bold;">
                    {{ request.user.username.0|upper }}
                </div>
            {% endif %}
            <p><input type="file" name="avatar" accept="image/*"></p>
        </div>

        <!-- Биография -->
        <div style="margin-bottom:30px;">
            <label style="font-weight:600; display:block; margin-bottom:10px;">О себе</label>
            <textarea name="bio" rows="6" placeholder="Расскажите о себе, целях, любимых предметах..." 
                      style="width:100%; padding:15px; border:1px solid #ddd; border-radius:12px; font-size:1.1rem;">{{ profile.bio|default:'' }}</textarea>
        </div>

        <div style="text-align:center;">
            <button type="submit" style="padding:16px 50px; background:#27ae60; color:white; border:none; border-radius:50px; font-size:1.3rem; font-weight:600;">
                Сохранить
            </button>
            <a href="{% url 'profile_edit' %}" style="margin-left:15px; color:#3498db; text-decoration:underline;">
                ← Назад к профилю
            </a>
        </div>
    </form>
</div>
{% endblock %}